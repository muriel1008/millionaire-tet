<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ai L√† Tri·ªáu Ph√∫ - Savills Tet Edition</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            background: radial-gradient(circle, #001f3f 0%, #000b18 100%);
            color: white;
            font-family: 'Roboto', sans-serif;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .game-container {
            flex-grow: 1;
            display: flex;
            padding: 20px;
        }

        .main-stage {
            flex: 3;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
        }

        .sidebar {
            flex: 1;
            background: rgba(0, 0, 0, 0.5);
            border-left: 2px solid #00d4ff;
            padding: 10px;
            display: flex;
            flex-direction: column;
        }

        .question-box {
            background: linear-gradient(180deg, #002c5f 0%, #001a38 100%);
            border: 2px solid #00d4ff;
            border-radius: 50px;
            padding: 20px 40px;
            width: 90%;
            text-align: center;
            font-size: 1.5rem;
            margin-bottom: 20px;
            box-shadow: 0 0 15px #00d4ff;
        }

        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            width: 90%;
        }

        .option-btn {
            background: linear-gradient(180deg, #002c5f 0%, #001a38 100%);
            border: 2px solid #00d4ff;
            border-radius: 30px;
            padding: 15px;
            color: white;
            text-align: left;
            font-size: 1.2rem;
            cursor: pointer;
            transition: 0.3s;
        }

        .option-btn:hover {
            background: #e67e22;
            border-color: #fff;
        }

        .option-btn.correct {
            background: #27ae60 !important;
        }

        .option-btn.wrong {
            background: #c0392b !important;
        }

        .option-btn.selected {
            background: #f1c40f !important;
            color: #000;
        }

        .ladder-item {
            padding: 5px 15px;
            margin: 2px 0;
            border-radius: 5px;
            font-weight: bold;
            color: #bdc3c7;
        }

        .ladder-item.active {
            background: #e67e22;
            color: white;
        }

        .ladder-item.milestone {
            color: white;
            border-bottom: 1px solid #555;
        }

        .lifelines {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
        }

        .lifeline-circle {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: 2px solid #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            font-weight: bold;
            background: #002c5f;
        }

        .lifeline-circle.used {
            opacity: 0.3;
            text-decoration: line-through;
            cursor: not-allowed;
        }

        .prize-display {
            font-size: 2rem;
            color: #f1c40f;
            text-shadow: 0 0 10px #f1c40f;
        }
    </style>
</head>

<body>

    <nav class="navbar navbar-dark bg-dark px-4">
        <span class="navbar-brand mb-0 h1">SAVILLS TET EDITION: AI L√Ä TRI·ªÜU PH√ö</span>
        <div>
            <button class="btn btn-outline-warning" onclick="walkAway()">Walk Away</button>
            <button class="btn btn-outline-danger" onclick="resetGame()">Next Contestant</button>
        </div>
    </nav>

    <div class="game-container">
        <div class="main-stage">
            <div class="lifelines">
                <div id="ll-50" class="lifeline-circle" onclick="use5050()">50:50</div>
                <div id="ll-call" class="lifeline-circle" onclick="useCall()">‚òé</div>
                <div id="ll-audience" class="lifeline-circle" onclick="useAudience()">üë•</div>
            </div>

            <div id="prize-zone" class="prize-display">ƒêang chu·∫©n b·ªã...</div>

            <div class="question-box" id="question-text">
                B·∫•m "B·∫Øt ƒë·∫ßu" ƒë·ªÉ m·ªùi th√≠ sinh l√™n gh·∫ø n√≥ng!
            </div>

            <div class="options-grid" id="options-container">
                <!-- Options will appear here -->
            </div>

            <div class="mt-4">
                <button id="start-btn" class="btn btn-primary btn-lg" onclick="startGame()">B·∫ÆT ƒê·∫¶U CH∆†I</button>
            </div>
        </div>

        <div class="sidebar" id="ladder">
            <!-- Prize ladder will be generated here -->
        </div>
    </div>

    <script>
        const questionPools = {
            easy: [
                // --- Original questions ---
                { q: "Hoa n√†o ƒë·∫∑c tr∆∞ng cho T·∫øt mi·ªÅn B·∫Øc?", a: ["Hoa Mai", "Hoa ƒê√†o", "Hoa H·ªìng", "Hoa C√∫c"], c: 1 },
                { q: "B√°nh ch∆∞ng c√≥ h√¨nh g√¨?", a: ["H√¨nh tr√≤n", "H√¨nh vu√¥ng", "H√¨nh tam gi√°c", "H√¨nh d√†i"], c: 1 },
                { q: "Ng√†y 23 th√°ng Ch·∫°p l√† ng√†y ti·ªÖn ai v·ªÅ tr·ªùi?", a: ["√îng ƒê·ªãa", "√îng T√°o", "Th·∫ßn T√†i", "√îng B√†"], c: 1 },
                { q: "M√¢m ng≈© qu·∫£ mi·ªÅn Nam th∆∞·ªùng c√≥ qu·∫£ n√†o?", a: ["Chu·ªëi", "ƒêu ƒë·ªß", "Cam", "L√™"], c: 1 },
                { q: "NƒÉm 2026 l√† nƒÉm con g√¨?", a: ["Gi√°p Th√¨n", "B√≠nh Ng·ªç", "·∫§t T·ªµ", "ƒêinh M√πi"], c: 1 },
                { q: "T·ª•c l·ªá x√¥ng ƒë·∫•t di·ªÖn ra v√†o l√∫c n√†o?", a: ["Giao th·ª´a", "S√°ng m√πng 1", "Chi·ªÅu m√πng 1", "M√πng 2"], c: 0 },
                { q: "L√¨ x√¨ th∆∞·ªùng ƒë∆∞·ª£c ƒë·ª±ng trong phong bao m√†u g√¨?", a: ["V√†ng", "ƒê·ªè", "Xanh", "Tr·∫Øng"], c: 1 },
                { q: "Qu·∫£ n√†o sau ƒë√¢y KH√îNG n·∫±m trong m√¢m ng≈© qu·∫£ 'C·∫ßu d·ª´a ƒë·ªß xo√†i sung'?", a: ["D∆∞a h·∫•u", "ƒêu ƒë·ªß", "Xo√†i", "Sung"], c: 0 },
                { q: "Con v·∫≠t n√†o ƒë·ª©ng ƒë·∫ßu trong 12 con gi√°p?", a: ["Tr√¢u", "H·ªï", "Chu·ªôt", "R·ªìng"], c: 2 },
                { q: "Th·ªãt kho t√†u th∆∞·ªùng ƒë∆∞·ª£c ƒÉn k√®m v·ªõi m√≥n g√¨ ng√†y T·∫øt?", a: ["D∆∞a gi√°", "C√† ph√°o", "Kim chi", "Su h√†o"], c: 0 },
                { q: "ƒê√™m giao th·ª´a c√≤n c√≥ t√™n g·ªçi kh√°c l√† g√¨?", a: ["Tr·ª´ t·ªãch", "Th∆∞·ª£ng nguy√™n", "Trung nguy√™n", "H·∫° nguy√™n"], c: 0 },
                { q: "M√¢m c·ªó T·∫øt mi·ªÅn B·∫Øc kh√¥ng th·ªÉ thi·∫øu m√≥n canh n√†o?", a: ["Canh chua", "Canh kh·ªï qua", "Canh b√≥ng th·∫≠p c·∫©m", "Canh khoai t√¢y"], c: 2 },
                { q: "L·ªÖ h·ªôi G√≤ ƒê·ªëng ƒêa di·ªÖn ra v√†o ng√†y n√†o th√°ng Gi√™ng?", a: ["M√πng 3", "M√πng 5", "M√πng 10", "R·∫±m"], c: 1 },
                { q: "T·ª•c l·ªá 'Khai b√∫t ƒë·∫ßu nƒÉm' mong mu·ªën ƒëi·ªÅu g√¨?", a: ["H·ªçc h√†nh t·∫•n t·ªõi", "S·ªëng th·ªç", "Ph√°t t√†i", "Nhi·ªÅu con c√°i"], c: 0 },
                // --- New questions from CSV ---
                { q: "Lo√†i v·∫≠t n√†o kh√¥ng bao gi·ªù ng·ªß?", a: ["C√° m·∫≠p", "C√° heo", "Chim s·∫ª", "D∆°i"], c: 0 },
                { q: "N·∫øu v∆∞·ª£t qua ng∆∞·ªùi ƒë·ª©ng th·ª© hai trong m·ªôt cu·ªôc ƒëua, b·∫°n ƒëang ·ªü v·ªã tr√≠ n√†o?", a: ["Th·ª© nh·∫•t", "Th·ª© hai", "Th·ª© ba", "Kh√¥ng x√°c ƒë·ªãnh"], c: 1 },
                { q: "T·ª´ n√†o sau ƒë√¢y kh√¥ng c√≥ ngu·ªìn g·ªëc H√°n ‚Äì Vi·ªát?", a: ["Gia ƒë√¨nh", "X√£ h·ªôi", "C√† ph√™", "Kinh t·∫ø"], c: 2 },
                { q: "√Ånh s√°ng t·ª´ M·∫∑t Tr·ªùi m·∫•t bao l√¢u ƒë·ªÉ t·ªõi Tr√°i ƒê·∫•t?", a: ["8 ph√∫t", "8 gi√¢y", "1 ph√∫t", "1 gi·ªù"], c: 0 },
                { q: "Internet ban ƒë·∫ßu ƒë∆∞·ª£c t·∫°o ra v·ªõi m·ª•c ƒë√≠ch ch√≠nh n√†o?", a: ["Gi·∫£i tr√≠", "Gi√°o d·ª•c", "Qu√¢n s·ª±", "Th∆∞∆°ng m·∫°i"], c: 2 },
                { q: "H√†nh tinh n√†o quay quanh tr·ª•c theo chi·ªÅu ng∆∞·ª£c l·∫°i so v·ªõi ƒëa s·ªë c√°c h√†nh tinh kh√°c?", a: ["Sao H·ªèa", "Sao Kim", "Sao Th·ªßy", "Sao M·ªôc"], c: 1 },
                { q: "S·ªë La M√£ n√†o l√† s·ªë l·ªõn nh·∫•t c√≥ th·ªÉ vi·∫øt ch·ªâ b·∫±ng 3 k√Ω t·ª±?", a: ["LLL", "CXC", "DCC", "MMM"], c: 3 },
                { q: "M√†u s·∫Øc n√†o truy·ªÅn th·ªëng KH√îNG mang √Ω nghƒ©a may m·∫Øn trong T·∫øt √Å ƒê√¥ng?", a: ["ƒê·ªè", "V√†ng", "Tr·∫Øng", "Cam"], c: 2 },
                { q: "Phong t·ª•c l√¨ x√¨ ban ƒë·∫ßu mang √Ω nghƒ©a ch√≠nh n√†o?", a: ["Cho ti·ªÅn may m·∫Øn", "Tr·ª´ t√† ‚Äì xua ƒëu·ªïi ƒëi·ªÅu x·∫•u", "Th·ªÉ hi·ªán ƒë·ªãa v·ªã", "Ph·∫ßn th∆∞·ªüng ƒë·∫ßu nƒÉm"], c: 1 },
                { q: "Phong t·ª•c n√†o d∆∞·ªõi ƒë√¢y mang √Ω nghƒ©a 'ƒë·ªãnh h∆∞·ªõng nƒÉm m·ªõi' nhi·ªÅu h∆°n l√† c·∫ßu may?", a: ["X√¥ng ƒë·∫•t", "L√¨ x√¨", "C√∫ng giao th·ª´a", "Ch√∫c T·∫øt"], c: 0 },
                { q: "V√¨ sao ng∆∞·ªùi Vi·ªát ki√™ng qu√©t nh√† trong m√πng 1 T·∫øt?", a: ["S·ª£ xui", "S·ª£ m·∫•t ti·ªÅn", "S·ª£ m·∫•t l·ªôc", "S·ª£ l√†m phi·ªÅn t·ªï ti√™n"], c: 2 },
                { q: "ƒêi·ªÉm chung quan tr·ªçng nh·∫•t c·ªßa c√°c nghi l·ªÖ T·∫øt l√† g√¨?", a: ["C√∫ng b√°i", "T·ª• h·ªçp", "L·∫∑p l·∫°i h·∫±ng nƒÉm", "T√≠nh bi·ªÉu t∆∞·ª£ng"], c: 3 },
                { q: "C√¢u n√≥i n√†o th·ªÉ hi·ªán r√µ nh·∫•t tinh th·∫ßn T·∫øt Vi·ªát?", a: ["C√≥ th·ª±c m·ªõi v·ª±c ƒë∆∞·ª£c ƒë·∫°o", "M·ªôt c√¢y l√†m ch·∫≥ng n√™n non", "U·ªëng n∆∞·ªõc nh·ªõ ngu·ªìn", "ƒê∆∞·ª£c ƒÉn c·∫£, ng√£ v·ªÅ kh√¥ng"], c: 2 },
                { q: "Qu·ªëc gia n√†o ƒë√≥n nƒÉm m·ªõi b·∫±ng vi·ªác ƒÉn nho theo t·ª´ng ti·∫øng chu√¥ng?", a: ["√ù", "T√¢y Ban Nha", "Mexico", "Argentina"], c: 1 }
            ],
            medium: [
                // --- Original questions ---
                { q: "NƒÉm nhu·∫≠n √¢m l·ªãch th∆∞·ªùng c√≥ m·∫•y th√°ng?", a: ["12", "13", "11", "14"], c: 1 },
                { q: "Savills Vi·ªát Nam ƒë∆∞·ª£c th√†nh l·∫≠p nƒÉm n√†o?", a: ["1995", "1998", "2000", "2005"], c: 0 },
                { q: "Lo·∫°i c√¢y n√†o l√† bi·ªÉu t∆∞·ª£ng c·ªßa qu√¢n t·ª≠ trong T·ª© Qu√Ω?", a: ["Mai", "Tr√∫c", "C√∫c", "T√πng"], c: 1 },
                { q: "Canh kh·ªï qua ng√†y T·∫øt ng·ª• √Ω g√¨?", a: ["Cho ƒë·∫Øng", "Kh·ªï qua ƒëi", "ƒÇn cho m√°t", "Gi·ªØ d√°ng"], c: 1 },
                { q: "V·ªã vua n√†o ƒë·∫°i ph√° qu√¢n Thanh v√†o d·ªãp T·∫øt?", a: ["Quang Trung", "L√™ L·ª£i", "Gia Long", "ƒêinh B·ªô Lƒ©nh"], c: 0 },
                { q: "T·∫øt Nguy√™n Ti√™u l√† ng√†y r·∫±m th√°ng m·∫•y?", a: ["Th√°ng Ch·∫°p", "Th√°ng Gi√™ng", "Th√°ng B·∫£y", "Th√°ng T√°m"], c: 1 },
                { q: "Con gi√°p n√†o trong 12 con gi√°p VN kh√°c v·ªõi Trung Qu·ªëc?", a: ["M√®o", "Tr√¢u", "D√™", "L·ª£n"], c: 0 },
                { q: "G√† c√∫ng ƒë√™m Giao th·ª´a th∆∞·ªùng ng·∫≠m g√¨?", a: ["L√° chanh", "B√¥ng h·ªìng", "ƒê·ªìng ti·ªÅn", "C√†nh ƒë√†o"], c: 1 },
                { q: "T·∫øt nƒÉm 1968 b·∫Øt ƒë·∫ßu v√†o ng√†y d∆∞∆°ng l·ªãch n√†o?", a: ["29/01", "30/01", "31/01", "01/02"], c: 1 },
                { q: "B·ª©c tranh 'ƒê√°m c∆∞·ªõi chu·ªôt' thu·ªôc d√≤ng tranh n√†o?", a: ["H√†ng Tr·ªëng", "ƒê√¥ng H·ªì", "S∆°n m√†i", "Th·ªßy m·∫∑c"], c: 1 },
                { q: "L·ªÖ H√≥a v√†ng th∆∞·ªùng ƒë∆∞·ª£c th·ª±c hi·ªán v√†o ng√†y n√†o?", a: ["M√πng 1", "M√πng 3 ho·∫∑c m√πng 4", "R·∫±m th√°ng Gi√™ng", "23 th√°ng Ch·∫°p"], c: 1 },
                { q: "S·ª± kh√°c bi·ªát ch√≠nh gi·ªØa B√°nh Ch∆∞ng v√† B√°nh T√©t l√† g√¨?", a: ["Nguy√™n li·ªáu", "Nh√¢n b√°nh", "H√¨nh d√°ng v√† c√°ch g√≥i", "Th·ªùi gian lu·ªôc"], c: 2 },
                // --- New questions from CSV ---
                { q: "M·ªôt nƒÉm kh√¥ng nhu·∫≠n c√≥ bao nhi√™u ng√†y Th·ª© S√°u n·∫øu ng√†y 1/1 l√† Th·ª© S√°u?", a: ["52", "53", "54", "51"], c: 1 },
                { q: "Gi√°c quan n√†o ph√°t tri·ªÉn s·ªõm nh·∫•t ·ªü con ng∆∞·ªùi?", a: ["Th·ªã gi√°c", "Th√≠nh gi√°c", "Kh·ª©u gi√°c", "X√∫c gi√°c"], c: 3 },
                { q: "ƒêi·ªÅu n√†o sau ƒë√¢y khi·∫øn con ng∆∞·ªùi h·ªëi ti·∫øc nhi·ªÅu nh·∫•t khi nh√¨n l·∫°i?", a: ["Nh·ªØng vi·ªác ƒë√£ l√†m sai", "Nh·ªØng vi·ªác ch∆∞a t·ª´ng l√†m", "Nh·ªØng l·ªùi ƒë√£ n√≥i", "Nh·ªØng quy·∫øt ƒë·ªãnh v·ªôi v√†ng"], c: 1 },
                { q: "Kim ph√∫t v√† kim gi·ªù tr√πng nhau bao nhi√™u l·∫ßn trong 12 gi·ªù?", a: ["10", "11", "12", "13"], c: 1 },
                { q: "Con ng∆∞·ªùi chia s·∫ª bao nhi√™u % DNA v·ªõi chu·ªëi (x·∫•p x·ªâ)?", a: ["10%", "30%", "60%", "90%"], c: 2 },
                { q: "Ch·ªØ c√°i n√†o kh√¥ng xu·∫•t hi·ªán trong c√°ch vi·∫øt s·ªë t·ª´ 1 ƒë·∫øn 100 b·∫±ng ti·∫øng Anh?", a: ["A", "B", "C", "D"], c: 0 },
                { q: "Con ng∆∞·ªùi kh√¥ng th·ªÉ c·∫£m nh·∫≠n tr·ª±c ti·∫øp ƒëi·ªÅu n√†o sau ƒë√¢y?", a: ["Nhi·ªát ƒë·ªô", "√Åp su·∫•t kh√¥ng kh√≠", "√Ånh s√°ng", "√Çm thanh"], c: 1 },
                { q: "Th·ª© g√¨ lu√¥n ƒë√∫ng, d√π b·∫°n n√≥i n√≥ ƒë√∫ng hay sai?", a: ["L·ªùi n√≥i d·ªëi", "S·ª± th·∫≠t", "C√¢u h·ªèi", "Im l·∫∑ng"], c: 1 },
                { q: "N·∫øu m√πng 1 T·∫øt D∆∞∆°ng l·ªãch nƒÉm nay l√† Th·ª© Ba, th√¨ m√πng 1 T·∫øt nƒÉm sau (kh√¥ng nhu·∫≠n) l√† th·ª© m·∫•y?", a: ["Th·ª© T∆∞", "Th·ª© B·∫£y", "Ch·ªß Nh·∫≠t", "Th·ª© Hai"], c: 0 },
                { q: "M√≥n b√°nh n√†o truy·ªÅn th·ªëng T·∫øt Vi·ªát nh∆∞ng kh√¥ng d√πng g·∫°o n·∫øp?", a: ["B√°nh ch∆∞ng", "B√°nh t√©t", "B√°nh kh·∫£o", "B√°nh in"], c: 2 },
                { q: "Trong c√¢u 'ƒê·∫ßu nƒÉm mua mu·ªëi', mu·ªëi t∆∞·ª£ng tr∆∞ng cho ƒëi·ªÅu g√¨?", a: ["Ti·ªÅn b·∫°c", "May m·∫Øn", "G·∫Øn k·∫øt", "S·ª©c kh·ªèe"], c: 2 },
                { q: "Trong c√¢u ch√∫c 'An khang th·ªãnh v∆∞·ª£ng', t·ª´ n√†o KH√îNG ph·∫£i l√† danh t·ª´?", a: ["An", "Khang", "Th·ªãnh", "V∆∞·ª£ng"], c: 2 },
                { q: "T·∫øt Nguy√™n ƒê√°n v·ªÅ b·∫£n ch·∫•t l√† l·ªÖ m·ª´ng ƒëi·ªÅu g√¨?", a: ["NƒÉm m·ªõi d∆∞∆°ng l·ªãch", "S·ª± k·∫øt th√∫c nƒÉm c≈©", "Chu k·ª≥ canh t√°c m·ªõi", "S·ª± sum h·ªçp gia ƒë√¨nh"], c: 2 },
                { q: "Qu·ªëc gia n√†o ƒë√≥n nƒÉm m·ªõi b·∫±ng vi·ªác‚Ä¶ ƒë·∫≠p v·ª° b√°t ƒëƒ©a tr∆∞·ªõc c·ª≠a nh√† ng∆∞·ªùi kh√°c?", a: ["Nh·∫≠t B·∫£n", "ƒêan M·∫°ch", "Hy L·∫°p", "H√†n Qu·ªëc"], c: 1 },
                { q: "Qu·ªëc gia n√†o c√≥ phong t·ª•c ng·ªß s·ªõm ƒë√™m giao th·ª´a ƒë·ªÉ ƒë√≥n nƒÉm m·ªõi t·ªânh t√°o?", a: ["Na Uy", "Nh·∫≠t B·∫£n", "Singapore", "Ph·∫ßn Lan"], c: 1 },
                { q: "Qu·ªëc gia n√†o ƒë√≥n nƒÉm m·ªõi b·∫±ng vi·ªác nh·∫£y xu·ªëng bi·ªÉn?", a: ["Canada", "Nga", "H√† Lan", "√öc"], c: 2 },
                { q: "Th·ª© g√¨ c√†ng ƒëo l∆∞·ªùng c√†ng thay ƒë·ªïi?", a: ["S·ª± th·∫≠t", "H√†nh vi", "Th·ªùi gian", "D·ªØ li·ªáu"], c: 1 },
                { q: "Th·ª© g√¨ t·ªìn t·∫°i c√†ng l√¢u c√†ng √≠t ƒë∆∞·ª£c nh·∫≠n ra?", a: ["Kh√¥ng kh√≠", "Th√≥i quen", "VƒÉn h√≥a", "Quy t·∫Øc"], c: 1 },
                { q: "C√≥ 10 ƒë√¥i gƒÉng tay kh√°c m√†u nhau(tr√°i‚Äìph·∫£i). L·∫•y ng·∫´u nhi√™n bao nhi√™u chi·∫øc ƒë·ªÉ ch·∫Øc ch·∫Øn c√≥ 1 ƒë√¥i c√πng m√†u ho√†n ch·ªânh?", a: ["11", "12", "21", "20"], c: 0 }
            ],
            hard: [
                // --- Original questions ---
                { q: "Theo phong t·ª•c, c√¢y N√™u ƒë∆∞·ª£c h·∫° xu·ªëng v√†o ng√†y n√†o?", a: ["M√πng 3", "M√πng 7", "R·∫±m th√°ng Gi√™ng", "M√πng 10"], c: 1 },
                { q: "NƒÉm 2026 (B√≠nh Ng·ªç), ti·∫øt L·∫≠p Xu√¢n r∆°i v√†o ng√†y n√†o d∆∞∆°ng l·ªãch?", a: ["03/02", "04/02", "05/02", "06/02"], c: 1 },
                { q: "B·ª©c tranh ng≈© qu·∫£ n·ªïi ti·∫øng 'Ph√∫c L·ªôc Th·ªç' c·ªßa d√≤ng tranh H√†ng Tr·ªëng c√≥ qu·∫£ g√¨ ·ªü gi·ªØa?", a: ["Qu·∫£ Ph·∫≠t th·ªß", "Qu·∫£ ƒê√†o", "Qu·∫£ L·ª±u", "Qu·∫£ M∆∞·ªõp ƒë·∫Øng"], c: 0 },
                { q: "Trong nghi l·ªÖ cung ƒë√¨nh Hu·∫ø x∆∞a, l·ªÖ t·∫ø quan tr·ªçng nh·∫•t ƒë·∫ßu nƒÉm l√† g√¨?", a: ["L·ªÖ Ban S√≥c", "L·ªÖ T·∫ø Nam Giao", "L·ªÖ Truy·ªÅn L√¥", "L·ªÖ Thi·∫øt Tri·ªÅu"], c: 1 },
                { q: "Savills Ch√¢u √Å Th√°i B√¨nh D∆∞∆°ng c√≥ tr·ª• s·ªü ch√≠nh ƒë·∫∑t t·∫°i ƒë√¢u?", a: ["Singapore", "Hong Kong", "Tokyo", "Sydney"], c: 1 },
                { q: "Ng∆∞·ªùi ƒë·∫ßu ti√™n k√Ω h·ª£p ƒë·ªìng li√™n doanh th√†nh l·∫≠p Savills Vi·ªát Nam l√† ai?", a: ["Neil MacGregor", "Matthew Powell", "Tr·∫ßn Quang Tu·∫•n", "S·ª≠ Ng·ªçc Kh∆∞∆°ng"], c: 0 },
                { q: "NƒÉm Canh T√Ω (2020), ng√†y m√πng 1 T·∫øt tr√πng v·ªõi s·ª± ki·ªán thi√™n vƒÉn n√†o?", a: ["Nh·∫≠t th·ª±c", "M∆∞a sao bƒÉng", "Si√™u trƒÉng", "Kh√¥ng c√≥ s·ª± ki·ªán ƒë·∫∑c bi·ªát"], c: 3 },
                { q: "Trong b√†i th∆° '√îng ƒê·ªì', t·∫°i sao 'Gi·∫•y ƒë·ªè bu·ªìn kh√¥ng th·∫Øm'?", a: ["V√¨ tr·ªùi m∆∞a", "V√¨ kh√¥ng ai thu√™ vi·∫øt", "V√¨ gi·∫•y c≈©", "V√¨ m·ª±c h·ªèng"], c: 1 },
                { q: "M√≥n 'Th·ªãt kho t√†u' th·ª±c ch·∫•t c√≥ ngu·ªìn g·ªëc t·ª´ ƒë√¢u theo c√°ch gi·∫£i th√≠ch ch·ªØ 'T√†u'?", a: ["Trung Qu·ªëc", "Ng∆∞·ªùi Hoa ·ªü VN", "V·ªã m·∫∑n c·ªßa n∆∞·ªõc bi·ªÉn (t√†u thuy·ªÅn)", "S√¥ng n∆∞·ªõc/L·∫°t (ti·∫øng mi·ªÅn T√¢y)"], c: 3 },
                { q: "T·ª•c l·ªá 'C∆∞·ªõi v·ª£ g·∫£ ch·ªìng' ng√†y T·∫øt x∆∞a g·ªçi l√† g√¨?", a: ["T·∫øt H·ªâ", "L·ªÖ xem m·∫Øt", "T·∫øt l√†m r·ªÉ", "L·ªÖ d·∫°m ng√µ"], c: 2 },
                { q: "NƒÉm 2026, theo l·ªãch √¢m l√† nƒÉm B√≠nh Ng·ªç. V·∫≠y nƒÉm 1966 c≈©ng l√† B√≠nh Ng·ªç, nƒÉm ƒë√≥ thu·ªôc m·ªánh g√¨?", a: ["Thi√™n Th∆∞·ª£ng Th·ªßy", "Thi√™n H√† Th·ªßy", "L·ªô B√†ng Th·ªï", "Sa Trung Kim"], c: 1 },
                { q: "S·ª± ki·ªán n√†o ƒë√°nh d·∫•u s·ª± thay ƒë·ªïi l·ªõn nh·∫•t c·ªßa Savills to√†n c·∫ßu v√†o nƒÉm 1988?", a: ["ƒê·ªïi t√™n t·ª´ Savill & Sons", "Ni√™m y·∫øt tr√™n s√†n ch·ª©ng kho√°n London", "M·ªü vƒÉn ph√≤ng t·∫°i M·ªπ", "Mua l·∫°i t·∫≠p ƒëo√†n CBRE"], c: 1 },
                { q: "Trong m√¢m c·ªó T·∫øt, 'B√°nh ch∆∞ng' ƒë·∫°i di·ªán cho ƒê·∫•t, v·∫≠y m√≥n n√†o ƒë·∫°i di·ªán cho Tr·ªùi?", a: ["B√°nh Gi·∫ßy", "X√¥i g·∫•c", "G√† lu·ªôc", "R∆∞·ª£u"], c: 0 },
                // --- New questions from CSV ---
                { q: "Qu·ªëc gia n√†o c√≥ nhi·ªÅu m√∫i gi·ªù nh·∫•t th·∫ø gi·ªõi?", a: ["Nga", "M·ªπ", "Ph√°p", "Trung Qu·ªëc"], c: 2 },
                { q: "S·ªë n√†o sau ƒë√¢y kh√¥ng th·ªÉ vi·∫øt th√†nh t·ªïng c·ªßa hai s·ªë nguy√™n t·ªë?", a: ["9", "11", "13", "15"], c: 1 },
                { q: "S·ªë n√†o ti·∫øp theo trong d√£y: 1 ‚Äì 11 ‚Äì 21 ‚Äì 1211 ‚Äì 111221 ‚Äì ?", a: ["212223", "312211", "111321", "131122"], c: 1 },
                { q: "Th·ª© g√¨ c√≥ c·ªï nh∆∞ng kh√¥ng c√≥ ƒë·∫ßu, c√≥ l∆∞ng nh∆∞ng kh√¥ng c√≥ th√¢n?", a: ["√Åo s∆° mi", "C√°i gh·∫ø", "Chai n∆∞·ªõc", "Quy·ªÉn s√°ch"], c: 0 },
                { q: "C√≥ 5 ng∆∞·ªùi x·∫øp h√†ng. A sau E tr∆∞·ªõc B, C v√† E kh√¥ng ƒë·ª©ng c·∫°nh nhau, D kh√¥ng ƒë·ª©ng c·∫°nh A C v√† E. Ai ƒë·ª©ng gi·ªØa?", a: ["A", "B", "C", "D"], c: 2 },
                { q: "N·∫øu h√¥m qua l√† ng√†y kia c·ªßa h√¥m kia, th√¨ h√¥m nay l√† th·ª© m·∫•y?", a: ["Th·ª© Hai", "Th·ª© Ba", "Th·ª© T∆∞", "Th·ª© NƒÉm"], c: 2 }
            ]
        };

        const prizes = [
            "0", "5K", "10K", "15K", "20K", "M·ªêC 1: üéÅ QU√Ä T·∫æT",
            "25K", "30K", "35K", "40K", "M·ªêC 2: üßß L√å X√å KH·ª¶NG",
            "üí∞ +100K", "üí∞ +100K", "üí∞ +100K", "üí∞ +100K", "üèÜ GRAND PRIZE"
        ];

        let currentQuestions = [];
        let currentIndex = 0;
        let usedLifelines = { f50: false, call: false, aud: false };

        function renderLadder() {
            const ladder = document.getElementById('ladder');
            ladder.innerHTML = '';
            for (let i = prizes.length - 1; i >= 1; i--) {
                const div = document.createElement('div');
                div.className = `ladder-item ${i === currentIndex ? 'active' : ''} ${i % 5 === 0 ? 'milestone' : ''}`;
                div.innerText = `${i}. ${prizes[i]}`;
                ladder.appendChild(div);
            }
        }

        function shuffle(array) {
            return array.sort(() => Math.random() - 0.5);
        }

        function startGame() {
            // Pick 5 from each pool
            const easy = shuffle([...questionPools.easy]).slice(0, 5);
            const medium = shuffle([...questionPools.medium]).slice(0, 5);
            const hard = shuffle([...questionPools.hard]).slice(0, 5);
            currentQuestions = [...easy, ...medium, ...hard];
            currentIndex = 1;
            usedLifelines = { f50: false, call: false, aud: false };
            updateLifelineUI();
            showQuestion();
            document.getElementById('start-btn').style.display = 'none';
        }

        function showQuestion() {
            renderLadder();
            const qData = currentQuestions[currentIndex - 1];
            document.getElementById('question-text').innerText = `C√¢u ${currentIndex}: ${qData.q}`;
            document.getElementById('prize-zone').innerText = `Gi·∫£i th∆∞·ªüng hi·ªán t·∫°i: ${prizes[currentIndex]}`;

            const container = document.getElementById('options-container');
            container.innerHTML = '';
            qData.a.forEach((opt, idx) => {
                const btn = document.createElement('div');
                btn.className = 'option-btn';
                btn.innerHTML = `<strong>${String.fromCharCode(65 + idx)}:</strong> ${opt}`;
                btn.onclick = () => selectOption(idx, btn);
                container.appendChild(btn);
            });
        }

        function selectOption(idx, btn) {
            const qData = currentQuestions[currentIndex - 1];
            const allBtns = document.querySelectorAll('.option-btn');
            allBtns.forEach(b => b.onclick = null); // Disable further clicks

            btn.classList.add('selected');

            setTimeout(() => {
                if (idx === qData.c) {
                    btn.classList.remove('selected');
                    btn.classList.add('correct');
                    setTimeout(() => {
                        if (currentIndex === 15) {
                            alert("CH√öC M·ª™NG! B·∫†N L√Ä TRI·ªÜU PH√ö TET! TR√í CH∆†I K·∫æT TH√öC.");
                            location.reload();
                        } else {
                            currentIndex++;
                            showQuestion();
                        }
                    }, 1000);
                } else {
                    btn.classList.remove('selected');
                    btn.classList.add('wrong');
                    allBtns[qData.c].classList.add('correct');
                    setTimeout(() => {
                        alert(`R·∫•t ti·∫øc! Tr√≤ ch∆°i k·∫øt th√∫c cho b·∫°n. M·ªùi th√≠ sinh ti·∫øp theo.`);
                        resetGame();
                    }, 2000);
                }
            }, 1500);
        }

        function resetGame() {
            document.getElementById('start-btn').style.display = 'block';
            document.getElementById('question-text').innerText = 'M·ªùi th√≠ sinh ti·∫øp theo...';
            document.getElementById('options-container').innerHTML = '';
            currentIndex = 0;
            renderLadder();
        }

        function walkAway() {
            alert(`B·∫°n ƒë√£ d·ª´ng l·∫°i v·ªõi ph·∫ßn th∆∞·ªüng: ${prizes[currentIndex - 1]}. Ch√∫c m·ª´ng!`);
            resetGame();
        }

        // Lifelines
        function use5050() {
            if (usedLifelines.f50 || currentIndex === 0) return;
            usedLifelines.f50 = true;
            updateLifelineUI();
            const qData = currentQuestions[currentIndex - 1];
            const btns = document.querySelectorAll('.option-btn');
            let removed = 0;
            let indices = [0, 1, 2, 3].filter(i => i !== qData.c);
            shuffle(indices);
            indices.slice(0, 2).forEach(i => {
                btns[i].innerText = '';
                btns[i].onclick = null;
            });
        }

        function useCall() {
            if (usedLifelines.call || currentIndex === 0) return;
            usedLifelines.call = true;
            updateLifelineUI();
            alert("ƒêang k·∫øt n·ªëi v·ªõi ng∆∞·ªùi th√¢n... 'T√¥i nghƒ© ƒë√°p √°n l√† " + String.fromCharCode(65 + currentQuestions[currentIndex - 1].c) + "... ch·∫Øc v·∫≠y!'");
        }

        function useAudience() {
            if (usedLifelines.aud || currentIndex === 0) return;
            usedLifelines.aud = true;
            updateLifelineUI();
            alert("Kh√°n gi·∫£ ƒëang b√¨nh ch·ªçn... [Thanh chat ƒëang b√πng n·ªï!]");
        }

        function updateLifelineUI() {
            if (usedLifelines.f50) document.getElementById('ll-50').classList.add('used');
            else document.getElementById('ll-50').classList.remove('used');
            if (usedLifelines.call) document.getElementById('ll-call').classList.add('used');
            else document.getElementById('ll-call').classList.remove('used');
            if (usedLifelines.aud) document.getElementById('ll-audience').classList.add('used');
            else document.getElementById('ll-audience').classList.remove('used');
        }

        renderLadder();
    </script>
</body>

</html>